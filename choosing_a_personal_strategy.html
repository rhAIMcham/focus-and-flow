<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choosing a personal strategy for focus and flow</title>
    <style>
        :root {
            --AIMblue: #4353A3;
            --darkBlue: #38416D;
            --teal: #5DC8B9;
            --cream: #F1EEDE;
            --grey: #e7e9ec;
            --rust: #AF4510;
            --navy: #12195C;
            --white: #ffffff;
            --lightBlue: #AEBAE4;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "IBM Plex Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            padding: 20px;
            min-height: 100vh;
    
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
        }

        h1 {
            color: var(--darkBlue);
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .section {
            margin-bottom: 35px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid var(--AIMblue);
        }

        .section h2 {
            color: var(--darkBlue);
            margin-bottom: 20px;
            font-size: 1.4em;
        }

        .instruction-box {
            background: var(--cream);
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 0.95em;
            color: #555;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #444;
            font-weight: 500;
            font-size: 0.95em;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.95em;
            transition: border-color 0.3s;
            font-family: inherit;
            background: white;
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: var(--darkBlue);
        }

        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.95em;
            transition: border-color 0.3s;
            font-family: inherit;
            resize: vertical;
            min-height: 80px;
        }

        textarea:focus {
            outline: none;
            border-color: var(--darkBlue);
        }

        .strategies-list {
            background: var(--lightBlue);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .strategies-list h3 {
            color: var(--darkBlue);
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .strategy-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .optional-section {
            background: var(--grey);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .optional-section h3 {
            color: var(--darkBlue);
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        button {
            font-family: "IBM Plex Sans", sans-serif;
            padding: 14px 30px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.05em;
            font-weight: 600;
            transition: all 0.3s;
            background: var(--AIMblue);
            color: white;
            width: 100%;
            margin-top: 20px;
        }

        button:hover {
            background: var(--teal);
            color: black;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(93, 200, 185, 0.4);
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                padding: 20px;
            }
            
            button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>My Focus & Flow Strategy Commitment</h1>
        <p class="subtitle">Review the strategies you have learnt throughout this course. Take note of those ideas which feel most relevant to your situation (e.g. environment, mindfulness, workflow, communication, time protection).</p>

        <div class="section">
            <div class="instruction-box">
                <strong>Select your top 3 strategies from the dropdown menus below, then choose ONE strategy you will commit to for the next two weeks.</strong>
            </div>

            <div class="strategies-list">
                <h3>My Top Strategy</h3>
                <div class="form-group">
                    <label for="strategy1">Strategy #1</label>
                    <select id="strategy1">
                        <option value="">Select a strategy...</option>
                        <option value="Clarify goals and structure work blocks">Clarify goals and structure work blocks</option>
                        <option value="Seek out feedback/clear communication">Seek out feedback/clear communication</option>
                        <option value="Create a routine that matches your rhythms">Create a routine that matches your rhythms</option>
                        <option value="Manage energy and incorporate rest">Manage energy and incorporate rest</option>
                        <option value="Manage environment distractions">Manage environment distractions</option>
                        <option value="Use attention anchors e.g. mindfulness practice">Use attention anchors e.g. mindfulness practice</option>
                        <option value="Find motivation/curiosity/purpose/passion">Find motivation/curiosity/purpose/passion</option>
                        <option value="Find risk/novelty/creativity/challenge">Find risk/novelty/creativity/challenge</option>
                    </select>
                </div>
                 <div>
                    <p id="strategyDesc"></p>
                </div>
                <div class="form-group">
                    <label for="strategy2">Strategy #2</label>
                    <select id="strategy2">
                        <option value="">Select a strategy...</option>
                        <option value="Clarify goals and structure work blocks">Clarify goals and structure work blocks</option>
                        <option value="Seek out feedback/clear communication">Seek out feedback/clear communication</option>
                        <option value="Create a routine that matches your rhythms">Create a routine that matches your rhythms</option>
                        <option value="Manage energy and incorporate rest">Manage energy and incorporate rest</option>
                        <option value="Manage environment distractions">Manage environment distractions</option>
                        <option value="Use attention anchors e.g. mindfulness practice">Use attention anchors e.g. mindfulness practice</option>
                        <option value="Find motivation/curiosity/purpose/passion">Find motivation/curiosity/purpose/passion</option>
                        <option value="Find risk/novelty/creativity/challenge">Find risk/novelty/creativity/challenge</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="strategy3">Strategy #3</label>
                 <select id="strategy3">
                        <option value="">Select a strategy...</option>
                        <option value="Clarify goals and structure work blocks">Clarify goals and structure work blocks</option>
                        <option value="Seek out feedback/clear communication">Seek out feedback/clear communication</option>
                        <option value="Create a routine that matches your rhythms">Create a routine that matches your rhythms</option>
                        <option value="Manage energy and incorporate rest">Manage energy and incorporate rest</option>
                        <option value="Manage environment distractions">Manage environment distractions</option>
                        <option value="Use attention anchors e.g. mindfulness practice">Use attention anchors e.g. mindfulness practice</option>
                        <option value="Find motivation/curiosity/purpose/passion">Find motivation/curiosity/purpose/passion</option>
                        <option value="Find risk/novelty/creativity/challenge">Find risk/novelty/creativity/challenge</option>
                    </select>
                </div>

               
            </div>

            <h2>My Two-Week Commitment</h2>
            
            <div class="form-group">
                <label for="strategy">The strategy I am choosing is...</label>
                <textarea id="strategy" placeholder="Write your chosen strategy here"></textarea>
            </div>

            <div class="form-group">
                <label for="reason">I am choosing it because...</label>
                <textarea id="reason" placeholder="Explain why this strategy resonates with you"></textarea>
            </div>

            <div class="form-group">
                <label for="application">I will apply it specifically at these times or in these situations...</label>
                <textarea id="application" placeholder="Describe when and where you'll use this strategy"></textarea>
            </div>

            <div class="form-group">
                <label for="success">I will consider it successful if I notice...</label>
                <textarea id="success" placeholder="What outcomes or changes would indicate success?"></textarea>
            </div>

            <div class="optional-section">
                <h3>Optional: Turn it into a simple if-then statement</h3>
                <div class="form-group">
                    <label for="ifThen1">If I begin a deep work block, then I will...</label>
                    <textarea id="ifThen1" placeholder="Complete the statement"></textarea>
                </div>
                <div class="form-group">
                    <label for="ifThen2">If I feel the urge to check messages during that time, then I will...</label>
                    <textarea id="ifThen2" placeholder="Complete the statement"></textarea>
                </div>
            </div>
        </div>

        <button onclick="exportToPDF()">Download My Strategy Commitment</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script>

    
        const strategySummaries = {
            "Clarify goals and structure work blocks": "The human brain works best with limits. Research shows that attention operates within short cognitive cycles, processing a finite number of elements before fatigue sets in. When work is broken into blocks, you are cooperating with the brain’s natural rhythm instead of fighting it. Breaking goals into defined blocks transforms ambition into progress. Having clear, specific goals and a plan to achieve them, which provides purpose and keeps you motivated. Each block isolates one coherent action or outcome. Together, they form a sequence that moves naturally toward completion.",
            
            "Seek out feedback/clear communication": "Flow depends on real-time information about how things are going, and communication is one of the largest hidden contributors to interrupted workflow and cognitive overload. Messages arrive unpredictably, creating internal questions that may distract or demotivate, consuming energy before action can be taken. The structure of a flow-inducing activity provides clear goals and immediate feedback, which provides a clear sense of how well you are doing and adjust your actions to improve. With feedback you remain fully present in the moment and focus your attention on the nuances of the task. Without feedback, your work may become mechanical and detached.",
            
            "Create a routine that matches your rhythms": "Routines form the behavioural scaffolding that supports deep work and flow. When routines become established, the brain no longer negotiates with itself about when, how or whether to start — it simply enters the expected pattern. Routines conserve mental energy, lower internal resistance, stabilise emotional state and create predictability in the attentional system. These benefits make flow more accessible and more repeatable.",
            
            "Manage energy and incorporate rest": "Rest is not separate from productivity — it is part of the cognitive cycle that sustains deep focus, creativity and mental endurance. Fatigue, stress and sleep loss weaken the attentional, emotional and physiological systems that allow flow to emerge. Without adequate recovery, even simple tasks feel heavier, working memory becomes less efficient, and the mind struggles to maintain stability. Flow emerges when the nervous system has capacity, not when it is depleted. Rest restores depleted neural resources, resets emotional balance and supports the biological rhythms that govern attention. When rest is neglected, cognitive load increases dramatically and the likelihood of entering flow declines.",
            
            "Manage environment distractions": "Different work settings can create shifting environmental conditions. Offices may introduce noise, movement and social cues that disrupt selective attention; while home environments may present domestic interruptions, inconsistent ergonomics or digital distractions. Digital clutter often creates more distraction than the physical environment. Every open tab, notification badge or background application acts as a competing priority. When the digital field is overloaded, working memory fragments and attention becomes scattered. For hybrid workers, consistency can be simple: a particular desk setup, repeated cues like arranging tools in the same order, or a digital workspace that remains visually stable.",
            
            "Use attention anchors e.g. mindfulness practice": "Attention drifts for predictable cognitive reasons: internal chatter, emotional fluctuations, unresolved tasks or sensory interference. Mindfulness strengthens awareness of these shifts. Rather than removing distraction, mindfulness increases the ability to recognise drift early and to return attention without friction. Regular meditation helps quiet the internal chatter and makes sustained concentration easier to achieve.",
            
            "Find motivation/curiosity/purpose/passion": "Sustained focus depends not only on managing distraction but also on maintaining motivation — the inner drive that keeps attention aligned with purpose. However, motivation is not constant; it fluctuates based on emotion, energy and the perceived distance between where you are and where you want to be. Passion stimulates reward pathways in the brain, especially dopamine circuits. These circuits enhance enjoyment, problem-solving innovation, willingness to try again after setbacks, resilience during complexity and absorption in detailed work. Tasks connected to passion feel less effortful because the emotional system reinforces focus rather than competing with it. This alignment shifts cognitive resources, strengthens motivation, and increases the likelihood of entering deeper states of concentration and flow.",
            
            "Find risk/novelty/creativity/challenge": "Novelty is one of the most reliable attentional catalysts available to the human mind. The brain is built to detect and prioritise change; anything new, surprising or unfamiliar triggers an automatic shift of attention known as the orienting response. This response evolved to help humans identify potential opportunities or threats in the environment, but in modern contexts it can be used deliberately to enhance engagement and support deeper states of focus and flow. Novelty does not have to be dramatic. Even subtle forms of freshness — a new challenge, a slightly altered environment, a different perspective — are enough to stimulate cognitive interest. When novelty is present, the mind becomes alert, receptive and ready to engage more deeply with the task at hand."
        };

        // Add event listener to strategy1 dropdown
        document.getElementById('strategy1').addEventListener('change', function() {
            const selectedStrategy = this.value;
            const descriptionElement = document.getElementById('strategyDesc');
            
            if (selectedStrategy && strategySummaries[selectedStrategy]) {
                descriptionElement.textContent = strategySummaries[selectedStrategy];
            } else {
                descriptionElement.textContent = '';
            }
        });

        async function exportToPDF() {
            const { jsPDF } = window.jspdf;
            
            const strategy1 = document.getElementById('strategy1').value || 'Not selected';
            const strategy2 = document.getElementById('strategy2').value || 'Not selected';
            const strategy3 = document.getElementById('strategy3').value || 'Not selected';
            const strategy = document.getElementById('strategy').value || 'Not specified';
            const reason = document.getElementById('reason').value || 'Not specified';
            const application = document.getElementById('application').value || 'Not specified';
            const success = document.getElementById('success').value || 'Not specified';
            const ifThen1 = document.getElementById('ifThen1').value || 'Not completed';
            const ifThen2 = document.getElementById('ifThen2').value || 'Not completed';
            
            // Get summaries for selected strategies
            const summary1 = strategySummaries[strategy1] || '';
            const summary2 = strategySummaries[strategy2] || '';
            const summary3 = strategySummaries[strategy3] || '';

            // Create first page content (strategies)
            const page1Container = document.createElement('div');
            page1Container.style.position = 'absolute';
            page1Container.style.left = '-9999px';
            page1Container.style.width = '210mm';
            page1Container.style.padding = '20mm';
            page1Container.style.backgroundColor = '#ffffff';
            page1Container.style.fontFamily = 'Arial, sans-serif';
            page1Container.style.color = '#333';

            page1Container.innerHTML = `
                <h1 style="color: #38416D; border-bottom: 3px solid #38416D; padding-bottom: 10px; margin-bottom: 20px; font-size: 32px;">My Focus & Flow Strategy Commitment</h1>
                
                <h2 style="color: #38416D; margin-top: 25px; margin-bottom: 10px; font-size: 24px;">My top 3 strategies</h2>
                
                ${strategy1 !== 'Not selected' ? `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #4353A3; font-size: 18px; margin-bottom: 8px;">1. ${strategy1}</h3>
                    <p style="font-size: 13px; line-height: 1.6; margin-left: 20px; text-align: justify;">${summary1}</p>
                </div>
                ` : '<p style="margin-left: 20px; font-size: 14px;">1. Not selected</p>'}

                ${strategy2 !== 'Not selected' ? `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #4353A3; font-size: 18px; margin-bottom: 8px;">2. ${strategy2}</h3>
                    <p style="font-size: 13px; line-height: 1.6; margin-left: 20px; text-align: justify;">${summary2}</p>
                </div>
                ` : '<p style="margin-left: 20px; font-size: 14px;">2. Not selected</p>'}
                
                ${strategy3 !== 'Not selected' ? `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #4353A3; font-size: 18px; margin-bottom: 8px;">3. ${strategy3}</h3>
                    <p style="font-size: 13px; line-height: 1.6; margin-left: 20px; text-align: justify;">${summary3}</p>
                </div>
                ` : '<p style="margin-left: 20px; font-size: 14px;">3. Not selected</p>'}
             
            `;
   
            // Create second page content (commitment)
            const page2Container = document.createElement('div');
            page2Container.style.position = 'absolute';
            page2Container.style.left = '-9999px';
            page2Container.style.width = '210mm';
            page2Container.style.padding = '20mm';
            page2Container.style.backgroundColor = '#ffffff';
            page2Container.style.fontFamily = 'Arial, sans-serif';
            page2Container.style.color = '#333';

            page2Container.innerHTML = `
                <h2 style="color: #38416D; margin-top: 0px; margin-bottom: 10px; font-size: 24px;">My two-week commitment</h2>
                
                <h3 style="color: #38416D; margin-top: 20px; margin-bottom: 8px; font-size: 18px;">The strategy I am choosing</h3>
                <p style="font-size: 14px; line-height: 1.6; margin-left: 20px; background: #f8f9fa; padding: 15px; border-radius: 6px; border-left: 4px solid #4353A3;">${strategy}</p>
                
                <h3 style="color: #38416D; margin-top: 20px; margin-bottom: 8px; font-size: 18px;">Why I'm choosing it</h3>
                <p style="font-size: 14px; line-height: 1.6; margin-left: 20px;">${reason}</p>
                
                <h3 style="color: #38416D; margin-top: 20px; margin-bottom: 8px; font-size: 18px;">When and where I'll apply it</h3>
                <p style="font-size: 14px; line-height: 1.6; margin-left: 20px;">${application}</p>
                
                <h3 style="color: #38416D; margin-top: 20px; margin-bottom: 8px; font-size: 18px;">How I'll measure success</h3>
                <p style="font-size: 14px; line-height: 1.6; margin-left: 20px;">${success}</p>
                
                <h3 style="color: #38416D; margin-top: 20px; margin-bottom: 8px; font-size: 18px;">My if-then statements</h3>
                <div style="margin-left: 20px; font-size: 14px; line-height: 1.8;">
                    <p style="margin-bottom: 15px;"><strong>If I begin a deep work block, then I will...</strong><br>${ifThen1}</p>
                    <p><strong>If I feel the urge to check messages during that time, then I will...</strong><br>${ifThen2}</p>
                </div>
                
                <div style="margin-top: 40px; padding: 15px; background: #AEBAE4; border-radius: 6px;">
                    <p style="font-size: 14px; line-height: 1.6; color: #38416D; font-style: italic; margin: 0;">
                        <strong>Commitment period:</strong> Next two weeks starting ${new Date().toLocaleDateString()}
                    </p>
                </div>
            `;

            document.body.appendChild(page1Container);
            document.body.appendChild(page2Container);

            // Capture first page
            const canvas1 = await html2canvas(page1Container, { 
                scale: 2, 
                backgroundColor: '#ffffff', 
                useCORS: true 
            });
            const imgData1 = canvas1.toDataURL('image/png');

            // Capture second page
            const canvas2 = await html2canvas(page2Container, { 
                scale: 2, 
                backgroundColor: '#ffffff', 
                useCORS: true 
            });
            const imgData2 = canvas2.toDataURL('image/png');

            document.body.removeChild(page1Container);
            document.body.removeChild(page2Container);

            const pdf = new jsPDF('p', 'mm', 'a4');
            const pdfWidth = pdf.internal.pageSize.getWidth();
            const pdfHeight = pdf.internal.pageSize.getHeight();

            // Add first page (strategies)
            const imgProps1 = pdf.getImageProperties(imgData1);
            const imgWidthMm1 = pdfWidth;
            const imgHeightMm1 = (imgProps1.height * imgWidthMm1) / imgProps1.width;

            let position1 = 0;
            let remainingHeight1 = imgHeightMm1;
            pdf.addImage(imgData1, 'PNG', 0, position1, imgWidthMm1, imgHeightMm1);
            remainingHeight1 -= pdfHeight;
            
            while (remainingHeight1 > 0) {
                position1 -= pdfHeight;
                pdf.addPage();
                pdf.addImage(imgData1, 'PNG', 0, position1, imgWidthMm1, imgHeightMm1);
                remainingHeight1 -= pdfHeight;
            }

            // Add second page (commitment) - always starts on new page
            pdf.addPage();
            const imgProps2 = pdf.getImageProperties(imgData2);
            const imgWidthMm2 = pdfWidth;
            const imgHeightMm2 = (imgProps2.height * imgWidthMm2) / imgProps2.width;

            let position2 = 0;
            let remainingHeight2 = imgHeightMm2;
            pdf.addImage(imgData2, 'PNG', 0, position2, imgWidthMm2, imgHeightMm2);
            remainingHeight2 -= pdfHeight;
            
            while (remainingHeight2 > 0) {
                position2 -= pdfHeight;
                pdf.addPage();
                pdf.addImage(imgData2, 'PNG', 0, position2, imgWidthMm2, imgHeightMm2);
                remainingHeight2 -= pdfHeight;
            }

            const today = new Date().toISOString().split('T')[0];
            pdf.save(`Focus_Flow_Strategy_Commitment_${today}.pdf`);
        }
    </script>
</body>
</html>